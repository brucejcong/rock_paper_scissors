<!DOCTYPE html>
<html>
<head>
	 <meta charset="utf-8">
	<title>Let's Play Rock Paper Scissors!</title>
</head>
<body>
	<script>

		function computerPlay() {
			rng = Math.floor(Math.random()*3 + 1);
			if (rng == 1) {
				return "Rock";
			} else if(rng == 2) {
				return "Paper";
			} else {
				return "Scissors";
			}
		}

		function capitalize(string) {
			let firstLetter = string.charAt(0);
			let everythingElse = string.slice(1);
			return firstLetter.toUpperCase() + everythingElse.toLowerCase();
		}

		function playRound(playerSelection, computerSelection) {
			playerSelection = capitalize(playerSelection);
			computerSelection = capitalize(computerSelection);
			const loseMessage = `You lose! ${computerSelection} beats ${playerSelection}`
			const winMessage = `You win! ${playerSelection} beats ${computerSelection}`



			if (playerSelection == computerSelection) {
				return "The round is a tie!";
			}
			if (playerSelection == "Rock") {
				if (computerSelection == "Scissors") {
					console.log(winMessage);
					return 1;
				} else {
					console.log(loseMessage);
					return 0;
				}
			} else if (playerSelection == "Paper") {
				if (computerSelection == "Rock") {
					console.log(winMessage);
					return 1;
				} else {
					console.log(loseMessage);
					return 0;
				} 
			} else if (playerSelection == "Scissors"){
				if (computerSelection == "Paper") {
					console.log(winMessage);
					return 1;
				} else {
					console.log(loseMessage);
					return 0;
				}
			} else {
				console.log("Invalid selection. Please choose either rock, paper or scissors!");
				return -1;
			}
		}

		function game() {
			let counter = 5;
			let playerSelection;
			let playerScore = 0;
			let computerScore = 0;
			while (counter > 0) {
				playerSelection = prompt("Rock, Paper or Scissors?"); 
			 	gameResult = playRound(playerSelection, computerPlay());
				if (gameResult == 1) {
					playerScore += 1;
					counter -= 1;
				} else if (gameResult == 0) {
					computerScore += 1;
					counter -= 1;
				} 
			}
			
			if (playerScore > computerScore) {
				console.log("Player wins the game with a score of " + playerScore + " !");
			} else if (computerScore > playerScore) {
				console.log("Computer wins the game with a score of " + computerScore + " !");
			} else {
				console.log("Tie game!")
			}
			
		}



		game();
	</script>
</body>
</html>